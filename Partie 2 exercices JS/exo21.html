<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Simulation de Commande</title>
    <style>
      .result {
        font-size: 24px;
        font-weight: bold;
        margin-top: 20px;
      }
      .result.active {
        color: green;
      }
    </style>
  </head>
  <body>
    <h1>Calculateur de Panier PixelBay</h1>
    <form>
      <div>
        <label for="quantity">Quantité</label>
        <input id="quantity" type="number" min="1" max="100" value="1" />
      </div>
      <div>
        <label for="unitPrice">Prix Unitaire HT</label>
        <input id="unitPrice" type="text" value="49.99" disabled />
      </div>
      <div>
        <label for="tax">TVA %</label>
        <input id="tax" type="text" value="20" disabled />
      </div>
      <div>
        <button type="submit">Recalculer le panier</button>
      </div>
    </form>
    <div class="result"></div>

    <script>
      const resultat = document.querySelector(".result");
      const formulaire = document.querySelector("form");

      const quantityIn = document.getElementById("quantity");
      const prixIn = document.getElementById("unitPrice");
      const taxIn = document.getElementById("tax");

      function calculateCart(event) {
        event.preventDefault(); // Permet de ne pas rafraichir la page

        const quantity = parseFloat(quantityIn.value);
        const prix = parseFloat(prixIn.value);
        const tax = parseFloat(taxIn.value);

        const hT = quantity * prix;
        const ttc = hT * (1 + tax / 100);
        resultat.textContent = `Le total TTC est de ${ttc.toFixed(2)}€`;
        resultat.classList.add ("active");
      }

      formulaire.addEventListener("submit", calculateCart);
      
    </script>
  </body>
</html>
